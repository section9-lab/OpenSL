# OpenSLç¼–è¯‘å™¨

> å°† C è¯­è¨€ç¼–è¯‘å­—èŠ‚ç , è¿è¡Œåœ¨ JVM è§£é‡Šå™¨ä¸Š

ğŸ”§ 1. è¯æ³•åˆ†æï¼ˆLexerï¼‰
ç”¨æ‰‹å†™æˆ–å€ŸåŠ©å·¥å…·ï¼ˆå¦‚ Flexã€ANTLRï¼‰æŠŠ C æºç æ‹†è§£æˆ token æµã€‚

ğŸ§  2. è¯­æ³•åˆ†æï¼ˆParserï¼‰
ç”¨æ‰‹å†™æˆ–è¯­æ³•å·¥å…·ï¼ˆå¦‚ Bisonã€ANTLRï¼‰æ„å»ºè¯­æ³•æ ‘æˆ–æŠ½è±¡è¯­æ³•æ ‘ï¼ˆASTï¼‰ã€‚

ğŸŒ² 3. æ„å»º AST
å°†è§£æç»“æœè½¬åŒ–ä¸ºæŠ½è±¡è¯­æ³•æ ‘ï¼Œä¾¿äºåç»­å¤„ç†ã€‚

ğŸ—ï¸ 4. ä¸­é—´è¡¨ç¤ºï¼ˆIRï¼‰
è€ƒè™‘ç”¨ä¸€ä¸ªç®€å•çš„ä¸­é—´è¡¨ç¤ºï¼ˆå¦‚ä¸‰åœ°å€ç ï¼‰ä½œä¸ºè¿‡æ¸¡ï¼Œä¾¿äºåšä¼˜åŒ–å’Œç”Ÿæˆ Java å­—èŠ‚ç ã€‚

ğŸ”„ 5. å­—èŠ‚ç ç”Ÿæˆï¼ˆCodeGenï¼‰
å°† IR è½¬æ¢ä¸º Java å­—èŠ‚ç ï¼š

å¯ä»¥ç›´æ¥ä½¿ç”¨ ASMã€BCEL ç­‰å­—èŠ‚ç åº“ï¼›
æˆ–è€…ç”Ÿæˆ .class æ–‡ä»¶ï¼Œæˆ– .jarï¼Œç„¶åäº¤ç»™ JVM æ‰§è¡Œã€‚
ğŸ§ª 6. è¿è¡Œä¸æµ‹è¯•
ç”¨ç®€å•çš„ C ç¨‹åºï¼ˆå˜é‡ã€åˆ†æ”¯ã€å¾ªç¯ã€å‡½æ•°ç­‰ï¼‰åšå•å…ƒæµ‹è¯•ï¼Œåœ¨ JVM ä¸Šè¿è¡Œå¹¶éªŒè¯è¡Œä¸ºã€‚


```

MiniCCompiler/
â”œâ”€â”€ parser/                      â† ç”± ANTLR è‡ªåŠ¨ç”Ÿæˆçš„è§£æå™¨æ–‡ä»¶
â”‚   â”œâ”€â”€ MiniCLexer.java
â”‚   â”œâ”€â”€ MiniCParser.java
â”‚   â”œâ”€â”€ MiniCBaseVisitor.java
â”‚   â””â”€â”€ ...
â”œâ”€â”€ parser/                      â† AST æ„å»ºå™¨
â”‚   â””â”€â”€ MiniCASTBuilder.java
â”‚
â”œâ”€â”€ ast/                         â† AST èŠ‚ç‚¹å®šä¹‰
â”‚   â”œâ”€â”€ ASTNode.java
â”‚   â”œâ”€â”€ ProgramNode.java
â”‚   â”œâ”€â”€ FunctionNode.java
â”‚   â”œâ”€â”€ BlockNode.java
â”‚   â”œâ”€â”€ VarDeclNode.java
â”‚   â”œâ”€â”€ AssignNode.java
â”‚   â”œâ”€â”€ IfNode.java
â”‚   â”œâ”€â”€ ReturnNode.java
â”‚   â”œâ”€â”€ ExprNode.java
â”‚   â”œâ”€â”€ BinaryExprNode.java
â”‚   â”œâ”€â”€ IntLiteralNode.java
â”‚   â””â”€â”€ VarExprNode.java
â”‚
â”œâ”€â”€ semantic/                    â† è¯­ä¹‰åˆ†æå™¨
â”‚   â”œâ”€â”€ SymbolTable.java
â”‚   â””â”€â”€ SemanticAnalyzer.java
â”‚
â”œâ”€â”€ backend/                     â† å­—èŠ‚ç ç”Ÿæˆå™¨ï¼ˆJasminï¼‰
â”‚   â””â”€â”€ JasminCompiler.java
â”‚
â”œâ”€â”€ Main.java                    â† ä¸»ç¨‹åºå…¥å£ï¼ŒåŒ…å«è¯»å–æºæ–‡ä»¶ã€è°ƒç”¨ parser â†’ analyzer â†’ compiler
â”œâ”€â”€ Main.j                       â† ç¼–è¯‘åç”Ÿæˆçš„ Jasmin æ±‡ç¼–ä»£ç 
â””â”€â”€ main.c                       â† è¾“å…¥çš„ C æºä»£ç ï¼ˆç®€åŒ–ç‰ˆ MiniCï¼‰
```
